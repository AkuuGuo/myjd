"use strict";$(function(){function o(){var t=JSON.parse(localStorage.getItem("cart")),i=0;$.each(t,function(t,a){i+=a.data.length}),$(".cart i").html(i)}o(),$(".img-list img").mouseover(function(){$(this).parent().css("border","1px solid #e3393c").siblings().css("border","1px solid #fff"),$(".small-img").attr("src",$(this).attr("src")),$(".big-image").css({background:"#fff url(".concat($(this).attr("src"),") no-repeat")})}),$(".images").mouseover(function(){$(".shade").css("display","block"),$(".big-image").css("display","block")}),$(".images").mouseout(function(){$(".shade").css("display","none"),$(".big-image").css("display","none")}),$(".images").mousemove(function(t){var a=t.pageX-$(this).offset().left-$(".shade").width()/2,i=t.pageY-$(this).offset().top-$(".shade").height()/2;a>$(this).width()-$(".shade").width()&&(a=$(this).width()-$(".shade").width()),i>$(this).height()-$(".shade").height()&&(i=$(this).height()-$(".shade").height()),$(".shade").css({left:a<0?0:a,top:i<0?0:i});var s=-(a<0?0:a)/$(this).width()*$(".big-image").width(),e=-(i<0?0:i)/$(this).height()*$(".big-image").height();$(".big-image").css({backgroundPosition:"".concat(s,"px ").concat(e,"px")})}),$(".choose dl ul li").click(function(){$(this).addClass("bk").siblings().removeClass("bk")}),$(".subtract").click(function(){var t=+$(this).next().val();--t<1&&(t=1),$(this).next().val(t)}),$(".add").click(function(){var t=+$(this).prev().val();t++,$(this).prev().val(t)}),$(".joinCart").click(function(){var t=JSON.parse(localStorage.getItem("cart"))||[],a={};a.id=$(".header").html(),a.data=[{type:$(".choose ul .bk").html(),num:$(".count .txt").val(),price:$(".art-price").html(),msg:$(".art-h").html(),img:$(".images img").attr("src")}];for(var i=0;i<t.length;i++)if(t[i].id==a.id){for(var s=0;s<t[i].data.length;s++)if(t[i].data[s].type==a.data[0].type){t[i].data[s].num=1*t[i].data[s].num+1*a.data[0].num;var e=JSON.stringify(t);return localStorage.setItem("cart",e),void o()}var c={type:$(".choose ul .bk").html(),num:$(".count .txt").val(),price:$(".art-price").html(),msg:$(".art-h").html(),img:$(".images img").attr("src")};t[i].data.push(c);e=JSON.stringify(t);return localStorage.setItem("cart",e),void o()}t.push(a);e=JSON.stringify(t);localStorage.setItem("cart",e),o()}),$(".cart").click(function(){window.location.href="../pages/cart.html"}),$(window).scroll(function(){200<=$(window).scrollTop()?$("#topBar").fadeIn(1e3):$("#topBar").fadeOut()})});